(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-116bc804"],{"0857":function(e,t,a){"use strict";a("a0e0");var n=a("a013"),r=a("f425"),l=a("dad2"),s="toString",i=/./[s],o=function(e){a("e5ef")(RegExp.prototype,s,e,!0)};a("b6f1")(function(){return"/a/b"!=i.call({source:"a",flags:"b"})})?o(function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!l&&e instanceof RegExp?r.call(e):void 0)}):i.name!=s&&o(function(){return i.call(this)})},"50ba":function(e,t,a){"use strict";a.r(t);var n,r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.thisValue,callback:function(t){e.thisValue=t},expression:"thisValue"}},[a("v-card",[a("v-toolbar",{attrs:{id:"core-toolbar",app:"",color:"dark",prominent:""}},[a("div",{staticClass:"v-toolbar-title"},[a("v-toolbar-title",{staticClass:"white--text font-weight-light"},[e._v("新增城市代理")])],1),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.thisValue=!1,e.sloading=!1}}},[a("v-icon",[e._v("el-icon-close")])],1)],1)],1),a("v-card-text",[a("v-container",[a("div",{staticStyle:{height:"60px"}}),a("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("p",[e._v("代理城市:")]),a("el-select",{attrs:{filterable:"",placeholder:"请选择一个城市"},model:{value:e.formData.city_name,callback:function(t){e.$set(e.formData,"city_name",t)},expression:"formData.city_name"}},e._l(e.cityData,function(t){return a("el-option-group",{key:t.name,attrs:{label:t.name}},e._l(t.cities,function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})}),1)}),1),a("v-text-field",{staticClass:"mt-4",attrs:{label:"代理人姓名",rules:[function(e){return!!e||"代理人姓名必填"}],required:"",placeholder:"输入代理人姓名"},model:{value:e.formData.realname,callback:function(t){e.$set(e.formData,"realname",t)},expression:"formData.realname"}}),a("v-text-field",{attrs:{label:"代理人手机号(必须在小程序注册过用户才有效)",rules:[function(e){return!!e||"代理人手机号必填"}],required:"",placeholder:"输入11个字符",counter:11},model:{value:e.formData.phone_number,callback:function(t){e.$set(e.formData,"phone_number",t)},expression:"formData.phone_number"}}),a("p",[e._v("跨城服务")]),a("v-radio-group",{attrs:{mandatory:!1,row:""},model:{value:e.formData.cross_city_service,callback:function(t){e.$set(e.formData,"cross_city_service",t)},expression:"formData.cross_city_service"}},[a("v-radio",{attrs:{label:"开启",value:1}}),a("v-radio",{attrs:{label:"关闭",value:0}})],1),a("p",[e._v("代理服务")]),a("v-radio-group",{attrs:{mandatory:!1,row:""},model:{value:e.formData.is_serve,callback:function(t){e.$set(e.formData,"is_serve",t)},expression:"formData.is_serve"}},[a("v-radio",{attrs:{label:"开启",value:1}}),a("v-radio",{attrs:{label:"关闭",value:0}})],1),a("v-toolbar",{attrs:{id:"core-toolbar",color:"bg-default",prominent:""}},[a("div",{staticClass:"v-toolbar-title"},[a("v-toolbar-title",{staticClass:"tertiary--text font-weight-light"},[e._v("设置服务收益及状态: (以下每项都必填，若不填可能会造成功能无法使用)")])],1)]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.serviceRules,border:"",type:"expand","default-expand-all":""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return["代驾"!=t.row.service_type?a("div",[e._l(t.row.des_tags,function(n,r){return a("el-tag",{key:n,attrs:{closable:"","disable-transitions":!1},on:{close:function(a){return e.handleClose(t.$index,r)}}},[e._v(e._s(n))])}),t.row.inputVisible?a("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:function(a){return e.handleInputConfirm(t.$index)}},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.handleInputConfirm(t.$index)}},model:{value:t.row.inputValue,callback:function(a){e.$set(t.row,"inputValue",a)},expression:"scope.row.inputValue"}}):a("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(a){return e.showInput(t.$index)}}},[e._v("+ 添加标签")])],2):e._e(),"代驾"==t.row.service_type?a("div",[e._v("无需添加内容")]):e._e(),"帮我买"==t.row.service_type?a("div",{staticClass:"mt-4"},[a("el-input",{attrs:{placeholder:"就近多少公里内购买"},model:{value:t.row.buy_meter,callback:function(a){e.$set(t.row,"buy_meter",a)},expression:"scope.row.buy_meter"}})],1):e._e()]}}])}),a("el-table-column",{attrs:{prop:"service_type",label:"服务名称",width:"100px"}}),a("el-table-column",{attrs:{label:"服务状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#e1e1e1","inactive-value":0,"active-value":1},model:{value:t.row.open_service,callback:function(a){e.$set(t.row,"open_service",a)},expression:"scope.row.open_service"}})],1)]}}])}),a("el-table-column",{attrs:{label:"初始接单时间(分钟)"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-input",{attrs:{type:"number",placeholder:"输入初始接单时间"},model:{value:t.row.init_time,callback:function(a){e.$set(t.row,"init_time",a)},expression:"scope.row.init_time"}})],1)]}}])}),a("el-table-column",{attrs:{label:"平台收益(%)"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-input",{attrs:{type:"number",placeholder:"输入整数"},model:{value:t.row.platform_profit,callback:function(a){e.$set(t.row,"platform_profit",a)},expression:"scope.row.platform_profit"}})],1)]}}])}),a("el-table-column",{attrs:{label:"代理收益(%)"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-input",{attrs:{type:"number",placeholder:"输入整数"},model:{value:t.row.agent_profit,callback:function(a){e.$set(t.row,"agent_profit",a)},expression:"scope.row.agent_profit"}})],1)]}}])}),a("el-table-column",{attrs:{label:"用户收益(%)"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-input",{attrs:{type:"number",placeholder:"输入整数"},model:{value:t.row.user_profit,callback:function(a){e.$set(t.row,"user_profit",a)},expression:"scope.row.user_profit"}})],1)]}}])})],1),a("v-toolbar",{attrs:{id:"core-toolbar",color:"bg-default mt-4",prominent:""}},[a("div",{staticClass:"v-toolbar-title"},[a("v-toolbar-title",{staticClass:"tertiary--text font-weight-light"},[e._v("填写路程计价规则: (以下每项都必填，若不填可能会造成功能无法使用)")])],1)]),a("p",{staticClass:"red--text"},[e._v("\n            示例：起步路程3000米，起步价7元，超出路程1000米，超出路程加价1.5元，最大服务路程20000米。\n            "),a("br"),e._v("表示：3km内支付7元，超出3km每1km加价1.5元，不能超过最大服务路程。\n            "),a("br"),e._v("如：用户的服务路程为16km，那么需支付: 7+(16-3)*1.5 = 26.5元 ；的路程费。\n          ")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.distanceRules,border:""}},[a("el-table-column",{attrs:{prop:"rule_type",label:"服务名称",width:"100px"}}),a("el-table-column",{attrs:{label:"起步路程(米)"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-input",{attrs:{type:"number",placeholder:"输入路程，表示该路程内一口价"},model:{value:t.row.start_distance,callback:function(a){e.$set(t.row,"start_distance",a)},expression:"scope.row.start_distance"}})],1)]}}])}),a("el-table-column",{attrs:{label:"起步价(元)"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-input",{attrs:{type:"number",placeholder:"输入起步价格"},model:{value:t.row.start_price,callback:function(a){e.$set(t.row,"start_price",a)},expression:"scope.row.start_price"}})],1)]}}])}),a("el-table-column",{attrs:{label:"超出路程(米)"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-input",{attrs:{type:"number",placeholder:"输入起步价格"},model:{value:t.row.exceed_everyone_distance,callback:function(a){e.$set(t.row,"exceed_everyone_distance",a)},expression:"scope.row.exceed_everyone_distance"}})],1)]}}])}),a("el-table-column",{attrs:{label:"超出路程加价(元)"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-input",{attrs:{type:"number",placeholder:"输入起步价格"},model:{value:t.row.exceed_everyone_price,callback:function(a){e.$set(t.row,"exceed_everyone_price",a)},expression:"scope.row.exceed_everyone_price"}})],1)]}}])}),a("el-table-column",{attrs:{label:"最大服务路程(米)"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-input",{attrs:{type:"number",placeholder:"最大服务路程"},model:{value:t.row.max_distance,callback:function(a){e.$set(t.row,"max_distance",a)},expression:"scope.row.max_distance"}})],1)]}}])})],1),a("v-toolbar",{attrs:{id:"core-toolbar",color:"bg-default mt-4",prominent:""}},[a("div",{staticClass:"v-toolbar-title"},[a("v-toolbar-title",{staticClass:"tertiary--text font-weight-light"},[e._v("填写重量计价规则: (至少增加一项)")])],1)]),a("p",{staticClass:"red--text"},[e._v("\n           提示：所有的最大重量和最小重量不能出现重复数字，而且最大重量必须大于最小重量。\n          ")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.weightRules,border:""}},[a("el-table-column",{attrs:{label:"最小重量"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-input",{attrs:{type:"number",placeholder:"最小重量"},model:{value:t.row.min_weight,callback:function(a){e.$set(t.row,"min_weight",a)},expression:"scope.row.min_weight"}})],1)]}}])}),a("el-table-column",{attrs:{label:"最大重量"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-input",{attrs:{type:"number",placeholder:"最大重量"},model:{value:t.row.max_weight,callback:function(a){e.$set(t.row,"max_weight",a)},expression:"scope.row.max_weight"}})],1)]}}])}),a("el-table-column",{attrs:{label:"价格"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-input",{attrs:{type:"number",placeholder:"价格"},model:{value:t.row.price,callback:function(a){e.$set(t.row,"price",a)},expression:"scope.row.price"}})],1)]}}])}),a("el-table-column",{attrs:{label:"规则"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v("\n                  "+e._s(t.row.min_weight+"~"+t.row.max_weight+"g 之间为"+t.row.price+"元")+"\n                ")])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.delWeight(t.$index)}}},[e._v("删除")])],1)]}}])})],1),a("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(t){e.weightRules.push(JSON.parse(JSON.stringify(e.weightRulesForm)))}}},[e._v("+ 添加一项重量规则")]),a("br"),a("v-btn",{attrs:{color:"dark",loading:e.sloading},on:{click:function(t){return e.doEdit()}}},[e._v("保存提交")])],1)],1)],1)],1)],1)},l=[],s=a("2e8e"),i=a.n(s),o={props:{value:{type:Boolean,default:!1}},data:function(){return{thisValue:this.value,sloading:!1,roles:[],valid:!0,cityData:i.a,formData:{city_name:"",is_serve:1,realname:"",phone_number:"",cross_city_service:0},distanceRules:[{start_distance:"",start_price:"",exceed_everyone_distance:"",exceed_everyone_price:"",max_distance:"",rule_type:"帮我送"},{start_distance:"",start_price:"",exceed_everyone_distance:"",exceed_everyone_price:"",max_distance:"",rule_type:"帮我取"},{start_distance:"",start_price:"",exceed_everyone_distance:"",exceed_everyone_price:"",max_distance:"",rule_type:"帮我买"},{start_distance:"",start_price:"",exceed_everyone_distance:"",exceed_everyone_price:"",max_distance:"",rule_type:"代驾"}],serviceRules:[{inputVisible:!1,inputValue:"",open_service:1,buy_meter:"",init_time:"",platform_profit:"",agent_profit:"",user_profit:"",des_tags:[],service_type:"帮我送"},{inputValue:"",inputVisible:!1,open_service:1,buy_meter:"",init_time:"",platform_profit:"",agent_profit:"",user_profit:"",des_tags:[],service_type:"帮我取"},{inputValue:"",inputVisible:!1,open_service:1,buy_meter:"",init_time:"",platform_profit:"",agent_profit:"",user_profit:"",des_tags:[],service_type:"帮我买"},{inputValue:"",inputVisible:!1,open_service:1,buy_meter:"",init_time:"",platform_profit:"",agent_profit:"",user_profit:"",des_tags:[],service_type:"代驾"}],weightRules:[],weightRulesForm:{min_weight:"",max_weight:"",price:""}}},watch:{value:function(e){this.thisValue=e},thisValue:function(e){this.$emit("change",e)}},mounted:function(){n=this},methods:{doEdit:function(){this.$refs.form.validate()&&(this.sloading=!0,this.$post("agent/add",{formData:JSON.stringify(this.formData),distanceRules:JSON.stringify(this.distanceRules),serviceRules:JSON.stringify(this.serviceRules),weightRules:JSON.stringify(this.weightRules)},function(e){n.sloading=!1,0==e.errno&&(n.$message({showClose:!0,message:e.errmsg,type:"success"}),n.thisValue=!1,n.sloading=!1,n.$emit("changemsg",e))}))},handleClose:function(e,t){this.serviceRules[e].des_tags.splice(t,1)},showInput:function(e){var t=this;this.serviceRules[e].inputVisible=!0,this.$nextTick(function(e){t.$refs.saveTagInput.$refs.input.focus()})},handleInputConfirm:function(e){var t=this.serviceRules[e].inputValue;t&&this.serviceRules[e].des_tags.push(t),this.serviceRules[e].inputVisible=!1,this.serviceRules[e].inputValue=""},delWeight:function(e){this.weightRules.splice(e,1)}}},c=o,u=a("6691"),d=Object(u["a"])(c,r,l,!1,null,null,null);t["default"]=d.exports},9976:function(e,t,a){"use strict";a.r(t);var n,r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","grid-list-xl":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{md3:"",lg2:""}},[a("v-text-field",{staticClass:"pr-2",attrs:{label:"手机号"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getList()}},model:{value:e.query.phone_number,callback:function(t){e.$set(e.query,"phone_number",t)},expression:"query.phone_number"}})],1),a("v-flex",{attrs:{md3:"",lg2:""}},[a("v-text-field",{staticClass:"pr-2",attrs:{label:"真实姓名"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getList()}},model:{value:e.query.realname,callback:function(t){e.$set(e.query,"realname",t)},expression:"query.realname"}})],1),a("v-flex",{attrs:{md3:"",lg2:""}},[a("v-text-field",{staticClass:"pr-2",attrs:{label:"城市名称"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getList()}},model:{value:e.query.city_name,callback:function(t){e.$set(e.query,"city_name",t)},expression:"query.city_name"}})],1),a("v-flex",{attrs:{md3:"",lg2:""}},[a("v-select",{attrs:{items:[{label:"全部",value:""},{label:"支持",value:1},{label:"不支持",value:0}],label:"跨城服务","item-text":"label","item-value":"value"},on:{change:function(t){return e.getList()}},model:{value:e.query.cross_city_service,callback:function(t){e.$set(e.query,"cross_city_service",t)},expression:"query.cross_city_service"}})],1),a("v-flex",{attrs:{md3:"",lg2:""}},[a("v-select",{attrs:{items:[{label:"全部",value:""},{label:"启用",value:1},{label:"禁用",value:0}],label:"状态","item-text":"label","item-value":"value"},on:{change:function(t){return e.getList()}},model:{value:e.query.is_serve,callback:function(t){e.$set(e.query,"is_serve",t)},expression:"query.is_serve"}})],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"xs-12":"","md-12":"","lg-12":"","sm-12":""}},[a("v-btn",{attrs:{color:"gray"},on:{click:function(t){return e.resetSearch()}}},[e._v("重置")]),a("v-btn",{attrs:{color:"dark"},on:{click:function(t){return e.getList()}}},[a("v-icon",{attrs:{size:"14"}},[e._v("mdi-account-search")]),e._v(" 搜索\n      ")],1)],1)],1),a("v-divider"),a("v-layout",{attrs:{wrap:"","justify-space-between":""}},[a("v-flex",{attrs:{sm8:"",xs12:"",md8:"",lg8:""}},[a("v-btn",{attrs:{color:"danger"},on:{click:function(t){return e.recover()}}},[e._v("删除")]),a("v-btn",{attrs:{color:"success"},on:{click:function(t){return e.statusChange(1)}}},[e._v("启用服务")]),a("v-btn",{attrs:{color:"warning"},on:{click:function(t){return e.statusChange(0)}}},[e._v("暂停服务")]),a("v-btn",{attrs:{color:"success"},on:{click:function(t){return e.crossChange(1)}}},[e._v("开启跨城服务")]),a("v-btn",{attrs:{color:"warning"},on:{click:function(t){return e.crossChange(0)}}},[e._v("关闭跨城服务")]),a("v-btn",{attrs:{color:"dark"},on:{click:function(t){e.dialog2=!0}}},[e._v("添加代理")]),a("v-btn",{staticClass:"inline-block",attrs:{color:"gray",icon:""},on:{click:function(t){return e.getList()}}},[a("v-icon",[e._v("mdi-autorenew")])],1)],1),a("div",[a("v-select",{staticClass:"pr-2 inline-block",attrs:{items:e.pageSizes,"item-text":"label","item-value":"value",label:"每页条数",required:""},on:{change:function(t){return e.getList()}},model:{value:e.query.pageSize,callback:function(t){e.$set(e.query,"pageSize",t)},expression:"query.pageSize"}})],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"xs-12":"","md-12":"","lg-12":"","sm-12":""}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoad,expression:"tableLoad"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.items,"tooltip-effect":"dark",border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"ID",prop:"id"}}),a("el-table-column",{attrs:{label:"城市"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.city_name||"-- -- --"))])]}}])}),a("el-table-column",{attrs:{label:"姓名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.realname||"-- --"))])]}}])}),a("el-table-column",{attrs:{label:"手机号"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.phone_number||"-- -- --"))])]}}])}),a("el-table-column",{attrs:{prop:"admin_name",label:"跨城服务"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[1==t.row.cross_city_service?a("v-chip",{staticClass:"ma-2",attrs:{"text-color":"white",color:"green",small:""}},[e._v("支持")]):e._e(),0==t.row.cross_city_service?a("v-chip",{staticClass:"ma-2",attrs:{"text-color":"white",color:"warning",small:""}},[e._v("不支持")]):e._e()],1)]}}])}),a("el-table-column",{attrs:{prop:"",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[1==t.row.is_serve?a("v-chip",{staticClass:"ma-2",attrs:{"text-color":"white",color:"green",small:""}},[e._v("启用")]):e._e(),0==t.row.is_serve?a("v-chip",{staticClass:"ma-2",attrs:{"text-color":"white",color:"warning",small:""}},[e._v("禁用")]):e._e()],1)]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("v-menu",{attrs:{"offset-y":"","content-class":"dropdown-menu",transition:"slide-y-transition"}},[a("v-btn",{attrs:{slot:"activator",small:"",color:"success"},slot:"activator"},[e._v("\n                  展开操作\n                ")]),a("v-card",[a("v-list",{attrs:{dense:""}},[a("v-list-tile",[a("v-list-tile-title",{domProps:{textContent:e._s("查看详情")},on:{click:function(a){e.tempAgent=t.row,e.dialog=!0}}})],1)],1)],1)],1)],1)]}}])})],1)],1)],1),a("v-layout",{attrs:{wrap:"","justify-end":"","mt-3":""}},[a("el-pagination",{attrs:{"current-page":e.query.currentPage,"page-size":e.query.pageSize,layout:"total,  prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1),a("agent-data",{attrs:{agent:e.tempAgent},on:{change:e.updateMsgChange,changemsg:e.changeMsg},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}}),a("agent-add",{on:{change:e.addminChange,changemsg:e.changeMsg},model:{value:e.dialog2,callback:function(t){e.dialog2=t},expression:"dialog2"}})],1)},l=[],s=(a("0857"),a("50ba")),i=a("645a"),o={components:{agentAdd:s["default"],agentData:i["default"]},data:function(){return{items:[],query:{phone_number:"",realname:"",city_name:"",cross_city_service:"",is_serve:"",sorts:"erd_agent.id asc",currentPage:1,pageSize:10},multipleSelection:[],pageSizes:this.$pageSizes,tableLoad:!1,total:0,dialog:!1,dialog2:!1,tempAgent:{}}},mounted:function(){n=this,this.getList()},methods:{getList:function(){this.tableLoad=!0,this.$post("agent/list",this.query,function(e){n.tableLoad=!1,0===e.errno&&(n.items=e.data.data,n.total=e.data.count)})},resetSearch:function(){this.query.admin_name="",this.query.role_name="",this.query.tel_number="",this.query.realname="",this.getList()},handleSelectionChange:function(e){this.multipleSelection=e},getIds:function(){var e=[];for(var t in this.multipleSelection)e.push(this.multipleSelection[t].id);return e},handleCurrentChange:function(e){this.query.currentPage=e,this.getList()},statusChange:function(e){this.$checkSelect(this.multipleSelection)&&this.$post("agent/serve",{ids:this.getIds().toString(),is_serve:e},function(e){0==e.errno&&(n.$message({showClose:!0,message:e.errmsg,type:"success"}),n.getList())})},crossChange:function(e){this.$checkSelect(this.multipleSelection)&&this.$post("agent/cross",{ids:this.getIds().toString(),cross_city_service:e},function(e){0==e.errno&&(n.$message({showClose:!0,message:e.errmsg,type:"success"}),n.getList())})},recover:function(){var e=this;this.$checkSelect(this.multipleSelection)&&this.$confirm("删除否此数据将无效，可在回收站恢复, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$post("agent/recover",{ids:e.getIds().toString()},function(e){0==e.errno&&(n.$message({showClose:!0,message:e.errmsg,type:"success"}),n.getList())})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},updateMsgChange:function(e){this.dialog=e},addminChange:function(e){this.dialog2=e},changeMsg:function(e){this.getList()}}},c=o,u=a("6691"),d=Object(u["a"])(c,r,l,!1,null,null,null);t["default"]=d.exports},a0e0:function(e,t,a){a("dad2")&&"g"!=/./g.flags&&a("ddf7").f(RegExp.prototype,"flags",{configurable:!0,get:a("f425")})}}]);
//# sourceMappingURL=chunk-116bc804.b7938bc5.js.map